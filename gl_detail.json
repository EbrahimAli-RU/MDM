{
    "operations" : [
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "FundingEntity"
            },
            "operationType": "lookup",
            "baseCondition": {
                "collectionName": "AtlasGlobalHoa_Client_setup",
                "columnName": "isInterCompany",
                "store": false,
                "from": "client_setup",
                "matchValue": [
                    {
                        "value": true,
                        "targetValue": {}
                    }
                ]
            },
            "joins": [
                {
                    "leftColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_details",
                        "columnName": "acct",
                        "store": false,
                        "from": "",
                        "matchWith": []
                    },
                    "rightColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_mapping",
                        "columnName": "sGLAcct",
                        "store": true,
                        "from": "array",
                        "matchWith": ["base", "acct"]
                    },
                    "joinCondition": {}
                },
                {
                    "leftColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_details",
                        "columnName": "sPropCode",
                        "store": false,
                        "from": "",
                        "matchWith": []
                    },
                    "rightColumn": {
                        "collectionName": "AtlasGlobalHoa_Property_mapping",
                        "columnName": "sPropCode",
                        "store": true,
                        "from": "array",
                        "matchWith": ["base", "sPropCode"]
                    },
                
                    "joinCondition": {
                        "from": "store",
                        "collectionName": "0",
                        "columnName": "interCo",
                        "valueToMatch": [
                            {
                                "value": "Parent",
                                "valueFrom": {
                                    "from": "store",
                                    "staticValue": "",
                                    "collectionName": 1,
                                    "columnName": "tParAcctCode",
                                    "valueFormate": ""
                                }
                            },
                            {
                                "value": "Target",
                                "valueFrom": {
                                    "from": "store",
                                    "staticValue": "",
                                    "collectionName": 1,
                                    "columnName": "tAcctCode",
                                    "valueFormate": ""
                                }
                            }
                          ]
                    }
                }
            ],
            "calculation": [],
            "valueFromTarget": {}
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "PROPERTY"
            },
            "operationType": "lookup",
            "baseCondition": {},
            "joins": [
                {
                    "leftColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_details",
                        "columnName": "sPropCode",
                        "store": false,
                        "from": "",
                        "matchWith": []
                    },
                    "rightColumn": {
                        "collectionName": "AtlasGlobalHoa_Property_mapping",
                        "columnName": "sPropCode",
                        "store": true,
                        "from": "array",
                        "matchWith": ["base", "sPropCode"]
                    },
                    "joinCondition": {}
                }
            ],
            "valueFromTarget": {
                "from": "store",
                "staticValue": "",
                "collectionName": 0,
                "columnName": "tAcctCode",
                "valueFormate": ""
            }
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "ACCOUNT"
            },
            "operationType": "lookup",
            "baseCondition": {},
            "joins": [
                {
                    "leftColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_details",
                        "columnName": "acct",
                        "store": false,
                        "from": "",
                        "matchWith": []
                    },
                    "rightColumn": {
                        "collectionName": "AtlasGlobalHoa_GL_mapping",
                        "columnName": "sGLAcct",
                        "store": true,
                        "from": "array",
                        "matchWith": ["base", "acct"]
                    },
                    "joinCondition": {}
                }
            ],
            "valueFromTarget": {
                "from": "store",
                "staticValue": "",
                "collectionName": 0,
                "columnName": "tGLAcct",
                "valueFormate": "",
                "matchWith": []
            }
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "Remark"
            },
            "operationType": "",
            "baseCondition": {},
            "concatenation": [
                {
                    "collectionName": "AtlasGlobalHoa_Client_setup",
                    "columnName": "glRemark",
                    "store": false,
                    "from": "client_setup",
                    "concatWith": " "
                },
                {
                    "collectionName": "AtlasGlobalHoa_GL_details",
                    "columnName": "propName",
                    "store": false,
                    "from": "",
                    "concatWith": ""
                }
            ]
    
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "AMOUNT"
            },
            "operationType": "calculation",
            "baseCondition": {},
            "calculation": [
                {
                    "collectionName": "AtlasGlobalHoa_GL_details",
                    "columnName": "transCreditAmt",
                    "store": false,
                    "from": "",
                    "operand": ""
                },
                {
                    "collectionName": "AtlasGlobalHoa_GL_details",
                    "columnName": "transDebitAmt",
                    "store": false,
                    "from": "",
                    "operand": "-"
                }
            ]
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "BOOKNUM"
            },
            "operationType": "copy",
            "baseCondition": {},
            "calculation": [],
            "valueFromTarget": {
                "from": "client_setup",
                "staticValue": "",
                "collectionName": "AtlasGlobalHoa_Client_setup",
                "columnName": "bookNum",
                "valueFormate": ""
            }
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "POSTMONTH"
            },
            "operationType": "copy",
            "baseCondition": {},
            "calculation": [],
            "valueFromTarget": {
                "from": "",
                "staticValue": "",
                "collectionName": "",
                "columnName": "acctPeriod",
                "valueFormate": "Date"
            }
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "TRANNUM"
            },
            "operationType": "copy",
            "baseCondition": {},
            "calculation": [],
            "valueFromTarget": {
                "from": "",
                "staticValue": "",
                "collectionName": "",
                "columnName": "acctPeriod",
                "valueFormate": "DateUnique"
            }
        },
        {
            "destinationField": {
                "targetCollectionName": "AtlasGlobalHoa_GL_Output",
                "newColumnName": "DISPLAYTYPE"
            },
            "operationType": "copy",
            "baseCondition": {
                "collectionName": "AtlasGlobalHoa_Client_setup",
                "columnName": "isInterCompany",
                "store": false,
                "from": "client_setup",
                "matchValue": [
                    {
                        "value": true, 
                        "targetValue": {
                            "from": "",
                            "staticValue": "Intercompany Journal Display Type",
                            "collectionName": "",
                            "columnName": "acctPeriod",
                            "valueFormate": ""
                        }
                    },
                    {
                        "value": false, 
                        "targetValue": {
                            "from": "",
                            "staticValue": "Standard Journal Display Type",
                            "collectionName": "",
                            "columnName": "acctPeriod",
                            "valueFormate": ""
                        }
                    }
                    ]
            },
            "calculation": [],
            "valueFromTarget": {}
        },
        {
            "destinationField": {
              "targetCollectionName": "AtlasGlobalHoa_GL_Output",
              "newColumnName": "REF"
            },
            "operationType": "concat",
            "baseCondition": {},
            "concatenation": [
              {
                "collectionName": "AtlasGlobalHoa_Client_setup",
                "columnName": "gLREF",
                "store": false,
                "from": "client_setup",
                "concatWith": ","
              },
              {
                "collectionName": "AtlasGlobalHoa_GL_details",
                "columnName": "propName",
                "store": false,
                "from": "",
                "concatWith": ""
              }
            ],
            "joins": [],
            "calculation": [],
            "valueFromTarget": {}
          }
    ]
}